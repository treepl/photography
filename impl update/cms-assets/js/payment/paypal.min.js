'use strict';(function(){function g(){function b(a,c,d){"CreditCard"===c?(a.style.display="block",a.dataset.paymentEnabled=!0):(a.style.display="none",a.dataset.paymentEnabled=!1)}let e=document.forms,h=[],g={input:{"font-size":"17px","font-family":"helvetica, tahoma, calibri, sans-serif",color:"#3a3a3a"},":focus":{color:"black"}};for(let a=0;a<e.length;a++)if(e[a].elements.Payment_Data){let c=e[a];var f=c.getAttribute("name");let d=`${f}_${a}`,b=document.getElementById(`paymentFields_${f}`);f=document.getElementById(`paymentErrors_${f}`);
b.id=`paymentFields_${d}`;b.innerHTML=`<div class="cms_row"><div class="cms_col_6"><div class="cms_input_holder" id='card-number_${d}'></div></div><div class="cms_col_6"> <div class="cms_row"> <div class="cms_col_6" ><div class="cms_input_holder" id="expiration-date_${d}"></div></div><div class="cms_col_6" ><div class="cms_input_holder" id="cvv_${d}"></div></div></div></div></div>`;f.id=`paymentErrors_${d}`;c.setAttribute("name",d);h.push(e[a])}h&&h.forEach((a)=>{let c=a.getAttribute("name"),d=document.getElementById(`paymentFields_${c}`),
e=a["g-recaptcha-response-v3"]?"customFormSubmit":"submit";a.dataset.form_submitted=!1;paypal.HostedFields.render({styles:g,createOrder:function(b,c){b={amount:a.querySelector("input[name='Payment_Amount']").value,PaymentType:"CreditCard"};return fetch(`/public/api/paypal/orders/${k(a.action,"form")}`,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(b)}).then(function(a){return a.json()}).then(function(a){return a.Id})},fields:{number:{selector:`#card-number_${c}`,placeholder:"card number"},
cvv:{selector:`#cvv_${c}`,placeholder:"CVV"},expirationDate:{selector:`#expiration-date_${c}`,placeholder:"MM/YYYY"}},onError:function(a){alert(a)}}).then(function(b){a.addEventListener(e,function(c){c.preventDefault();let d=c.target;"true"!==d.dataset.form_submitted?(d.dataset.form_submitted=!0,"CreditCard"===d.elements.Payment_Type.value?b.submit().then(function(b){b.orderId&&(a.elements.Payment_Data.value=b.orderId,a.submit())}).catch(function(a){d.dataset.form_submitted=!1;alert(a.details[0].description)}):
a.submit()):alert("Form submission is in progress.")})});b(d,a.elements.Payment_Type.value,c);a.elements.Payment_Type.onchange=function(c){c.preventDefault();b(d,c.target.value,a.name)}})}function k(b,e){b=new URL(b);return(new URLSearchParams(b.search)).get(e)}document.addEventListener("DOMContentLoaded",function(b){g()})})();
